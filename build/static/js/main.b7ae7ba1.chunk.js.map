{"version":3,"sources":["logo.svg","App.js","reportWebVitals.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","firestore","SignIn","className","onClick","signInWithPopup","GoogleAuthProvider","src","alt","SignOut","currentUser","class","signOut","ChatRoom","dummy","useRef","messagesRef","collection","query","orderBy","limitToLast","useCollectionData","idField","messages","useState","formValue","setFormValue","useEffect","current","scrollIntoView","behavior","sendMessage","e","a","preventDefault","displayName","uid","photoURL","add","user","body","createdAt","FieldValue","serverTimestamp","map","msg","ChatMessage","message","id","ref","type","xmlns","fill","viewBox","stroke","stroke-linecap","stroke-linejoin","stroke-width","d","onSubmit","value","onChange","target","placeholder","disabled","props","App","useAuthState","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b7ae7ba1.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import logo from './logo.svg';\r\nimport './App.css';\r\n\r\nimport React, { useEffect, useRef, useState } from 'react';\r\n\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/firestore'\r\nimport 'firebase/auth'\r\n\r\nimport { useAuthState } from 'react-firebase-hooks/auth'\r\nimport { useCollectionData } from 'react-firebase-hooks/firestore'\r\n\r\n// firebase config\r\nfirebase.initializeApp({\r\n  apiKey: \"AIzaSyDPJBnRSj8iuDh9kqgNk20nu2AJ6RgOmro\",\r\n  authDomain: \"chat-c84a6.firebaseapp.com\",\r\n  projectId: \"chat-c84a6\",\r\n  storageBucket: \"chat-c84a6.appspot.com\",\r\n  messagingSenderId: \"933924540988\",\r\n  appId: \"1:933924540988:web:bbfbdd0e44f4317c16e939\"\r\n})\r\n\r\nconst auth = firebase.auth()\r\nconst firestore = firebase.firestore()\r\n\r\n\r\nfunction App() {\r\n\r\n  // check user authenticate\r\n  const [user] = useAuthState(auth)\r\n\r\n  return (\r\n    <div>\r\n      <SignOut />\r\n      <section>\r\n        {/* show Chat Room if user logged or else Sign In */}\r\n        {user ? <ChatRoom /> : <SignIn />}\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction SignIn() {\r\n  const signInWithGoogle = () => {\r\n    auth.signInWithPopup(new firebase.auth.GoogleAuthProvider())\r\n  }\r\n\r\n  return (\r\n    <div className=\"w-full h-screen overflow-hidden\">\r\n        <section className=\"text-gray-700 body-font\">\r\n            <div className=\"container flex flex-col items-center px-5 py-16 mx-auto md:flex-row lg:px-28\">\r\n                <div\r\n                    className=\"flex flex-col items-start w-full pt-0 mb-16 text-left lg:flex-grow md:w-1/2 xl:mr-20 md:pr-24 md:mb-0 \">\r\n                    <h1 className=\"mb-8 text-2xl font-black tracking-tighter text-black md:text-5xl title-font\">\r\n                        Make Fun Together.\r\n                    </h1>\r\n                    <p className=\"mb-8 text-base leading-relaxed text-left text-blueGray-600 \">\r\n                    Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s.\r\n                    </p>\r\n                    <div className=\"flex flex-col w-full gap-2 md:justify-start md:flex-row\"> \r\n                        <button onClick={signInWithGoogle}  className=\"flex items-center w-full px-6 py-2 font-semibold text-white transition duration-500 ease-in-out transform bg-black rounded-lg lg:w-auto hover:bg-gray-900 focus:shadow-outline focus:outline-none focus:ring-2 ring-offset-current ring-offset-2\">\r\n                        <img src={\"https://img.icons8.com/plasticine/2x/google-logo.png\"} alt='Google Icon' className=\"w-12 h-12\" />\r\n                         <span>Sign In With Google</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"w-full h-screen lg:w-5/6 lg:max-w-lg md:w-1/2\">\r\n                    <img className=\"object-cover object-center rounded-lg h-5/6\" alt=\"hero\"\r\n                        src=\"https://images.unsplash.com/photo-1521898284481-a5ec348cb555?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=634&q=80\" />\r\n                </div>\r\n            </div>\r\n        </section>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction SignOut() {\r\n  return auth.currentUser && (\r\n    <div className=\"text-gray-700 bg-white body-font\"> \r\n      <div className=\"flex flex-col flex-wrap justify-between p-5 mx-auto border-b md:items-center md:flex-row\">\r\n      <h2 class=\"text-2xl font-semibold tracking-tighter transition duration-1000 ease-in-out transform text-blueGray-500 lg:text-md text-bold lg:mr-8\">\r\n        Chat App\r\n      </h2>\r\n      <button onClick={() => auth.signOut()}\r\n            className=\"items-center px-8 py-2 font-semibold text-white transition duration-500 ease-in-out transform bg-black rounded-lg hover:bg-blueGray-900 focus:ring focus:outline-none\">Sign Out\r\n      </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction ChatRoom() {\r\n  const dummy = useRef();\r\n  const messagesRef = firestore.collection('messages');\r\n  const query = messagesRef.orderBy('createdAt', 'asc').limitToLast(25);\r\n\r\n  const [messages] = useCollectionData(query, {idField: 'id'});\r\n  const [formValue, setFormValue] = useState('');\r\n\r\n  const scrollToBottom = () => {\r\n    dummy.current.scrollIntoView({ behavior: 'smooth' });\r\n  }\r\n\r\n  useEffect(scrollToBottom, [messages]);\r\n\r\n  const sendMessage = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const { displayName, uid, photoURL } = auth.currentUser;\r\n\r\n    await messagesRef.add({\r\n      user: displayName,\r\n      body: formValue,\r\n      createdAt: firebase.firestore.FieldValue.serverTimestamp(),\r\n      uid: uid,\r\n      photoURL: photoURL\r\n    })\r\n\r\n    setFormValue('');\r\n    dummy.current.scrollIntoView({ behavior: 'smooth' });\r\n  }\r\n\r\n  return (\r\n    <div className=\"w-1/2 h-4/5 mt-1 border  m-auto\">\r\n      <div className=\"border-t-2 border-gray-200 px-4 pt-4 mb-2 sm:mb-0\">\r\n        <div>\r\n          {/* call ChatMessage Component for each new message */}\r\n          {messages && messages.map(msg => <ChatMessage key={msg.id} message={msg} />)}\r\n           <span ref={dummy}></span>\r\n        </div>\r\n      <div className=\"relative flex\">\r\n         <span className=\"absolute inset-y-0 flex items-center top-4 left-3\">\r\n            <button type=\"button\" className=\"inline-flex items-center justify-center rounded-full h-12 w-12 transition duration-500 ease-in-out text-gray-500 hover:bg-gray-300 focus:outline-none mt-2\">\r\n               <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" class=\"h-6 w-6 text-gray-600\">\r\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z\"></path>\r\n               </svg>\r\n            </button>\r\n         </span>\r\n         <form onSubmit={sendMessage} className=\"w-11/12 mt-6 ml-4 flex \">\r\n            <input type=\"text\" value={formValue} onChange={(e) => setFormValue(e.target.value)} placeholder=\"Write Something\" className=\"w-full focus:outline-none focus:placeholder-gray-400 text-gray-600 placeholder-gray-600 bg-gray-200 rounded-full py-3 pl-12\" />\r\n            <button type=\"submit\" disabled={!formValue} className=\"inline-flex items-center justify-center rounded-full h-12 w-12 transition duration-500 ease-in-out text-white bg-blue-500 hover:bg-blue-400 focus:outline-none ml-4\">\r\n               <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" class=\"h-6 w-6 transform rotate-90\">\r\n                  <path d=\"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z\"></path>\r\n               </svg>\r\n            </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  )\r\n}\r\n\r\nfunction ChatMessage(props) {\r\n  const { user, body, uid, photoURL, createdAt } = props.message;\r\n\r\n    return (\r\n      <div className=\"flex items-end ml-4 \">\r\n        <div >\r\n          <img src={photoURL || 'https://i.imgur.com/rFbS5ms.png'} alt=\"{user}'s pfp\" className=\"rounded-full w-8 h-8\" />\r\n        </div>\r\n        <div className=\"flex flex-col mt-8 space-y-2 text-xs max-w-xs mx-2 order-2 items-start\">\r\n          {/* <p>{user}</p> */}\r\n          <p className=\"px-4 py-2 rounded-lg inline-block bg-gray-300 text-gray-600\">{body}</p>\r\n        </div>\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}